const global=globalThis;let host=window.location.host;const base_url=`${window.location.protocol}//${host}/`;global.base_url=base_url,global.select_everything_stays_checked=!0;"use strict";class NewKeywordError extends TypeError{constructor(e){super("Object cannot be created without the new keyword"),this.name="NewKeywordError"}}class NotImplementedError extends Error{constructor(e){super("Function not implemented"),this.name="NotImplementedError"}}class ElementNotFound extends Error{constructor(e){super(`Element with ID "${e}" not found.`),this.name="ElementNotFound"}}class TemplateNotFound extends Error{constructor(e){super(`Template with ID "${e}" not found.`),this.name="TemplateNotFound"}}class DuplicateComponent extends Error{constructor(e){super(`Component with ID "${e}" has already been created.`),this.name="DuplicateComponent"}}Handlebars?(Handlebars.registerHelper("YesNo",e=>e?"Yes":"No"),Handlebars.registerHelper("yesno",e=>e?"yes":"no"),Handlebars.registerHelper("capfirst",e=>e=front_utils.capfirst(e)),Handlebars.registerHelper("lower",e=>e=e.toLowerCase()),Handlebars.registerHelper("upper",e=>e=e.toUpperCase()),Handlebars.registerHelper("linebreaksbr",e=>(e=e.replace(/(?:\r\n|\r|\n)/g,"<br>"),e=new Handlebars.SafeString(e))),Handlebars.registerHelper("datetime",function(e){return front_utils.format_datetime(e)}),Handlebars.registerHelper("datetimebr",function(e){var t=front_utils.format_date(e),e=front_utils.format_time(e);return new Handlebars.SafeString(t+" <br> "+e)}),Handlebars.registerHelper("date",function(e){return front_utils.format_date(e)})):logger.info("Handlebars is not defined; cannot register helpers.");const components={},component_array=[];function Component({element_id:e=void 0,template_id:t=void 0,click:n=void 0,lock_click:o=!1,busy_on_click:s=!1,busy:a=void 0,available:r=void 0,onrender:i=void 0,loader_id:c=void 0}){if(!new.target)throw new NewKeywordError;if(component_array.includes(e))throw new DuplicateComponent(e);component_array.push(e);let l=!1,d=0;const u={acquire:function(){return!l&&(l=!0,!(1<(d+=1)))},release:function(){d=0,l=!1}},m=document.getElementById(e);if(!m)throw new ElementNotFound(e);let f=void 0,p=void 0;if(t){const f=document.getElementById(t);if(!f)throw new TemplateNotFound(t);p=Handlebars.compile(f.innerHTML)}let h=void 0;if(c&&!(h=document.getElementById(c)))throw new ElementNotFound(c);function v(e){var t;if(p)return m.classList.remove("skeleton"),t=void 0,g(t=front_utils.render(p,e)),i&&i(m),t}function g(e){m.innerHTML=e}const y={element:m,render:v,paint:g,template:p,loader:h};function E(e=void 0){void 0===e&&(e={}),a&&a(y,e)}function b(e=void 0){void 0===e&&(e={}),r&&r(y,e)}async function w(e){s&&await E();try{await n(e)}catch(e){throw e}finally{s&&await b()}}return b(),m.addEventListener("click",async function(e){n&&!l&&(o?u.acquire()?(await w(e),u.release()):console.log("Lock could not be acquired."):w(e))}),{render:v,paint:g,lock:u,remove:function(){m.remove()},set_busy:E,set_available:b,locked:l,lock_count:d,element:m,template:p,loader:h}}const Toaster=function(){const c="animate";let l=document.getElementById("toaster");if(!l){l=front_utils.string_to_html('<div class="toaster" id="toaster" role="alert" aria-live="polite"></div>');const e=document.querySelector("main");(e||document.body).prepend(l)}const d=`<div class="toast" role="alert" aria-live="assertive" data-delay="5000">
                <span class="toast-text">
                </span>
                <button class="btn close-toast-btn" name="button" type="button">
                        <svg aria-hidden="true" fill="none" focusable="false" height="24" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><line x1="18" x2="6" y1="6" y2="18"></line><line x1="6" x2="18" y1="6" y2="18"></line></svg>
                        <span class="sr-only">Close message</span>
                </button>
        </div>`;{const t=document.querySelectorAll(".toast");t.forEach((e,t)=>{n(e)})}function n({css_class:e="info",autoclose:t=!0,animate:n=!0,delay:o=5e3,toast:s=void 0,text:a=void 0}){if(!s&&a){{(s=front_utils.string_to_html(d)).classList.add(e),n&&s.classList.add(c),s.dataset.delay=t?o:"-1";const i=s.querySelector(".toast-text");i.textContent=a,l.prepend(s)}const r=s.querySelector(".close-toast-btn");r.addEventListener("click",e=>{u(s,0)}),-1!==(o=parseInt(s.dataset.delay))&&window.setTimeout(()=>{u(s,300)},o)}}function u(e,t=0){e.classList.add("remove"),window.setTimeout(()=>{e.remove()},t)}return{add:n}}(),request=(!function(){let e=sessionStorage.getItem("toasts");(e=JSON.parse(e))&&e.forEach((e,t)=>{Toaster.add({...e})}),sessionStorage.removeItem("toasts")}(),function(){async function n({method:e="get",url:t=void 0,payload:n=void 0,headers:o={},json:s=!0,csrf_token:a=void 0,is_auto:r=!1}){r=new CustomEvent("fetch_network_error",{detail:{is_auto:r,url:t}});let i=void 0,c={};e={method:e,headers:o};n&&(n=JSON.stringify(n),Object.assign(e,{body:n})),a&&Object.assign(o,{"X-CSRFToken":a}),s&&Object.assign(o,{"Content-Type":"application/json"});try{i=await fetch(t,e)}catch(e){return document.dispatchEvent(r),{obj:i,status:0,data:c,done:!1,failed:!0}}try{c=await i.json()}catch(e){if(!e instanceof TypeError)throw console.warn("TypeError"),e}return{obj:i,status:i.status,data:c,done:!0,failed:!1}}return{get:async function(e,t){return t=t||{},await n(t=Object.assign(t,{url:e,method:"get"}))},post:async function(e,t){return t=t||{},await n(t=Object.assign(t,{url:e,method:"post"}))},put:async function(e,t){return t=t||{},await n(t=Object.assign(t,{url:e,method:"put"}))},patch:async function(e,t){return t=t||{},await n(t=Object.assign(t,{url:e,method:"patch"}))},head:async function(e,t){return t=t||{},await n(t=Object.assign(t,{url:e,method:"head"}))},del:async function(e,t){return t=t||{},await n(t=Object.assign(t,{url:e,method:"delete"}))}}}()),forms=(!function(){const r={debounce:function(o,s,a){let r;return function(){const e=this,t=arguments;var n=a&&!r;clearTimeout(r),r=setTimeout(function(){r=null,a||o.apply(e,t)},s),n&&o.apply(e,t)}}};function i(e,t){const n=t,o=e;let s=Number(o.value);t=o.step;isNaN(s)||"any"===t?(n.textContent=s.toFixed(0),o.value=s.toFixed(0)):(e=function(e){if(Math.floor(e.valueOf())===e.valueOf())return 0;let t=e.toString();return(-1===t.indexOf(".")||-1===t.indexOf("-"))&&-1!==t.indexOf(".")?t.split(".")[1].length||0:t.split("-")[1]||0}(s),n.textContent=s.toFixed(e),o.value=s.toFixed(e))}const e=document.querySelectorAll('input[type="range"]');e.forEach((e,t)=>{const n=document.createElement("span"),o=document.createElement("span"),s=document.createElement("span");o.textContent=e.min||0,s.textContent=e.max||100,o.classList.add("range-label","range-label-min"),s.classList.add("range-label","range-label-max"),n.classList.add("range-value"),e.insertAdjacentElement("beforebegin",o),e.insertAdjacentElement("afterend",s),s.insertAdjacentElement("afterend",n),i(e,n);var a=r.debounce(e=>{i(e.target,n)},0);e.oninput=a})}(),!function(){const t=document.querySelectorAll("[data-maxlength-counter]");document.addEventListener("DOMContentLoaded",e=>{t.forEach((s,e)=>{let a=document.getElementById(s.getAttribute("data-maxlength-counter"));const r=s.getAttribute("maxlength");a.textContent="0 / "+r,s.addEventListener("keyup",e=>{var t,n,o;t=s,n=r,o=a,t=t.value.length,o.textContent=t+" / "+n})})})}(),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".input-addon");e.forEach((e,t)=>{const n=e.previousElementSibling;"input"===n.tagName.toLowerCase()&&n.classList.add("before-addon")})}),function(){function d(e){var t=`label[for="${e.id}"]`;let n=document.querySelector(t);const o=e.parentElement;if(!n){console.warn(`Label was not found using selector: ${t}. "for" `+"attribute might be incorrect for the label of input "+`"${e.id}". Attempting to find the label.`),o.classList.contains("inline-form-group")&&o.previousElementSibling&&"label"===o.previousElementSibling.tagName.toLowerCase()&&(n=o.previousElementSibling);const s=e.previousElementSibling;s&&"label"===s.tagName.toLowerCase()&&(n=s)}if(n)return n;console.warn("Label not found when trying to add form field error.")}return{add_errors:function({input:e=void 0,errors:t=[]}){let o=void 0,n=[],s=[],a=!1;var r=d(e);e.previousElementSibling;const i=r.nextElementSibling;let c=!1;if(c=i&&i.classList.contains("errorlist")?!0:c){const l=(o=r.nextElementSibling).querySelectorAll("li");l.forEach((e,t)=>{s.push(e.textContent)}),n=t,o.classList.add("shake"),setTimeout(()=>{o.classList.remove("shake")},2e3),a=!0}else(o=document.createElement("ul")).classList.add("errorlist"),n=t;n.forEach((e,t)=>{const n=document.createElement("li");n.textContent=e,s.includes(e)||o.appendChild(n)}),r&&!a&&front_utils.insert_after(r,o)},add_form_errors:function({form:e=void 0,errors:t=[]}){let o=[],n=!1,s=document.querySelector(".errorlist.nonfield");s?(n=!0,s.classList.add("shake"),setTimeout(()=>{s.classList.remove("shake")},2e3)):((s=document.createElement("ul")).classList.add("errorlist"),s.classList.add("nonfield"));const a=s.querySelectorAll("li");a.forEach((e,t)=>{o.push(e.textContent)}),t.forEach((e,t)=>{const n=document.createElement("li");n.textContent=e,o.includes(e)||s.appendChild(n)}),n||e.insertBefore(s,e.firstChild)},clear_errors:function({form:e=void 0,input:t=void 0}){let n=[];if(e&&(n=e.querySelectorAll(".errorlist")),t){e=d(t);if(e){const o=e.nextElementSibling;o&&o.classList.contains("errorlist")&&o.remove()}}n.forEach((e,t)=>{e.remove()})}}}()),collapsible=(!function(){const t=new Event("front:show_select_everything"),o=new Event("front:hide_select_everything"),s=document.getElementById("select-everything"),a=document.getElementById("select-all");if(a){const c=document.querySelectorAll(".row-select");let n=0;function r(e){n=0,e.target.checked?(c.forEach((e,t)=>{e.checked=!0,n+=1}),a.checked=!0,a.indeterminate=!1,document.dispatchEvent(t)):(c.forEach((e,t)=>{e.checked=!1}),a.checked=!1,a.indeterminate=!1,s.checked=!1,document.dispatchEvent(o))}function i(e){e?(n+=1,!function(){for(let e=0;e<c.length;e++)if(!c[e].checked)return;return 1}()?(a.checked=!1,a.indeterminate=!0):(a.checked=!0,a.indeterminate=!1,document.dispatchEvent(t))):(0<n&&--n,(e=function(){for(let e=0;e<c.length;e++)if(c[e].checked)return!1;return!0}())&&(a.checked=!1,s.checked?a.indeterminate=!0:a.indeterminate=!1),a.checked&&(a.checked=!1,a.indeterminate=!0),s&&(global.select_everything_stays_checked?!s.checked&&e&&document.dispatchEvent(o):(s.checked&&(s.checked=!1),document.dispatchEvent(o))))}s&&s.addEventListener("change",e=>{e=e,a.checked=e.target.checked,r(e)}),a.addEventListener("change",e=>{(e=e).target.checked||s&&!global.select_everything_stays_checked&&(s.checked=!1),r(e)}),c.forEach((e,t)=>{e.addEventListener("change",e=>{i(e.target.checked)})}),c.forEach((e,t)=>{i(e.checked)})}}(),!function(){let p=-1;function h(e){e.innerHTML=""}function v(e,t){let n=void 0,o=!1;const s=t.nextElementSibling;return s&&"div"===s.tagName.toLowerCase()&&s.classList.contains("many-items")&&(o=!0,n=s),o||((n=document.createElement("div")).classList.add("many-items"),front_utils.insert_after(t,n)),n}function g(n,e,o,s){if(o&&s){let t=document.createElement("span");t.classList.add("chip"),t.classList.add("close-chip"),t.textContent=s,t.setAttribute("data-id",o),e.appendChild(t),t.addEventListener("click",e=>{for(let e=0;e<n.selectedOptions.length;e++)if(n.selectedOptions[e].value===t.dataset.id)try{n.remove(e);break}catch(e){}t.remove()})}}async function y(e,t){const n=document.createElement("div"),o=document.createElement("span");o.textContent=e,n.appendChild(o),n.style.padding="12px 16px",t.appendChild(n)}const r=front_utils.debounce(function(l,d,u,m){var e=d.value,t=l.dataset.searchParam,n=l.dataset.uri;let o=l.dataset.maxResults,s=(o=o||100,o=parseInt(o),p=-1,{});var a=l.dataset.chained;if(a){a=JSON.parse(a);for(let e=0;e<a.length;e++){var r=a[e];const c=document.getElementById(r);r=c.querySelector("select");const f=r.selectedOptions[0];f&&(s={[r.name]:f.getAttribute("value"),...s})}}var i,t={[t]:e,...s},e="?"+(i=t,Object.keys(i).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i[e])}).join("&"));fetch(n+e).then(e=>e.json()).then(e=>{(0===e.results.length?async function(e){await front_utils.stall(200),h(e),y("No results found.",e)}:h)(u);const t=e.results.slice(0,o);t.forEach(function(c){const e=document.createElement("div"),t=document.createElement("span");t.textContent=c.text||c.name||c.label,e.appendChild(t),e.setAttribute("data-id",c.id),e.classList.add("dropdown-result"),e.setAttribute("tabindex","-1"),e.role="option",e.onclick=function(){d.value=this.textContent,h(u);{var t=c.id,n=c.text,o=l,s=d,a=u,r=m,i=r.getAttribute("multiple");let e=void 0;return i?e=v(0,o):r.innerHTML="",o=new Option(n,t,!0,!0),r.appendChild(o),r.dispatchEvent(new Event("change")),void(i&&(g(r,e,t,n),s.value="",h(a)))}},u.appendChild(e)}),t.length===o&&async function(e,t){y(`*Showing maximum ${t} results.`,e)}(u,o),document.activeElement===d?u.style.display="block":h(u)}).catch(e=>console.error("Error:",e))},250);function d(e,t,n,o){{var s=n;let e=!0;if(e=1===s.children.length&&s.querySelector(".loading-indicator")?!1:e){h(s);const a=document.createElement("div");a.classList.add("loading-indicator"),a.textContent="Loading...",a.style.padding="12px 16px",s.appendChild(a)}}r(e,t,n,o)}function u(e,t,n){var o,s;Array.from(e).forEach(e=>e.classList.remove("highlight")),e[t]&&(e[t].classList.add("highlight"),e[t]&&(e=(o=e[t].offsetTop)+e[t].offsetHeight,(t=n.scrollTop)+(s=n.offsetHeight)<e?n.scrollTop=e-s:o<t&&(n.scrollTop=o)))}function m(e,t,n,o,s){n.getAttribute("multiple");n.selectedOptions[0]&&(o.value="",n.innerHTML="",e&&e.preventDefault(),d(t,o,s,n),h(s))}const f={},e=document.querySelectorAll(".dropdown");e.forEach((t,e)=>{t.id?f[t.id]=!1:console.warning("No ID attribute set on searchable select.");let n=t.querySelector("input[type=text]");if(!(n=n||t.querySelector("input[type=search]")))return void console.warn("No search input found for dropdown.");const o=n.nextElementSibling,s=(o&&"button"===o.tagName.toLowerCase()&&o.classList.contains("clear-selection")&&n.nextElementSibling.addEventListener("click",e=>{m(e,t,a,n,s)}),t.querySelector("div[role=listbox]")),a=t.querySelector("select");var r=a.getAttribute("multiple");if(r||(n.required=a.required),a.selectedOptions[0]&&!r&&(n.value=a.selectedOptions[0].innerHTML),0<a.selectedOptions.length&&r){var i=v(a,t);for(let e=0;e<a.selectedOptions.length;e++){var c=a.selectedOptions[e],l=c.innerHTML,c=c.value;g(a,i,c,l)}}n.addEventListener("input",e=>{d(t,n,s,a)}),n.addEventListener("keydown",e=>{let t=s.getElementsByClassName("dropdown-result");var n=t.length;"ArrowDown"===e.key?(p=(p+1)%n,u(t,p,s),e.preventDefault()):"ArrowUp"===e.key?(p=(p-1+n)%n,u(t,p,s),e.preventDefault()):"Enter"===e.key&&-1<p&&t[p]&&(t[p].click(),e.preventDefault())}),n.addEventListener("focus",e=>{s.style.display="block",h(s),a.selectedOptions[0]||(n.value=""),d(t,n,s,a)}),t.addEventListener("mousedown",e=>{t.id&&(f[t.id]=!0)}),t.addEventListener("mouseup",e=>{t.id&&(f[t.id]=!1)}),n.addEventListener("focusout",e=>{t.id&&!f[t.id]&&768<window.innerWidth&&(h(s),f[t.id]=!1),a.selectedOptions[0]||(n.value="")}),n.addEventListener("keydown",e=>{"Backspace"!==e.key&&"Delete"!==e.key&&"Escape"!==e.key||m(e,t,a,n,s)})}),document.addEventListener("click",function(s){e.forEach((e,t)=>{let n=e.querySelector("input[type=text]");if(n=n||e.querySelector("input[type=search]")){e.querySelector("select");const o=e.querySelector("div[role=listbox]");n.contains(s.target)||o.contains(s.target)||h(o)}else console.warn("No search input found for dropdown.")})})}(),!function(){const e=document.querySelectorAll("[data-toggle-show-password-input]");e.forEach((t,e)=>{let n=void 0;n="button"!==t.tagName&&"input"===t.tagName?"change":"click";var o=t.dataset.toggleShowPasswordInput;const s=document.getElementById(o);t.addEventListener(n,e=>{s?"password"===s.type?(s.type="text",t.ariaPressed=!0,t.classList.add("showing-password"),t.textContent&&(t.textContent="Hide")):(s.type="password",t.ariaPressed=!1,t.classList.remove("showing-password"),t.textContent&&(t.textContent="Show")):console.warning("No input found for toggle show/hide password.")})})}(),!function(){const e=document.querySelectorAll(".big-radio input");e.forEach((n,e)=>{let o=front_utils.get_closest_parent(n,".big-radio");n.checked&&o.classList.add("selected"),n.addEventListener("change",e=>{n.checked&&o.classList.add("selected");const t=document.querySelectorAll(`input[name="${n.name}"]`);console.log(t),t.forEach((e,t)=>{o=front_utils.get_closest_parent(e,".big-radio"),e.checked?o.classList.add("selected"):o.classList.remove("selected")})})})}(),!function(){window.matchMedia("(prefers-color-scheme: dark)");const e=document.getElementById("dark-light-toggle");if(e){const t=e.dataset.toggleUrl,n=e.dataset.csrftoken;e&&e.addEventListener("click",()=>{if(document.body.classList.toggle("dark-theme"),t){const e=new XMLHttpRequest;e.addEventListener("load",function(e){}),e.open("POST",t),n&&e.setRequestHeader("X-CSRFToken",n),e.send()}})}}(),!function(){const e=document.querySelectorAll("[data-open-sidenav]"),t=(e.forEach(function(e,t){const n=document.getElementById(e.dataset.openSidenav);e.addEventListener("click",function(e){e.preventDefault(),o(n)})}),document.querySelectorAll("[data-close-sidenav]"));t.forEach(function(e,t){const n=document.getElementById(e.dataset.closeSidenav);e.addEventListener("click",function(e){e.preventDefault(),o(n)})});let n=document.querySelectorAll(".sidenav");function o(e,t=!1){if(e){if(!e.hasAttribute("aria-hidden"))throw"Sidenav / responsive navbar must have aria-hidden attribute";e.classList.contains("nav-is-open")||t?(e.classList.remove("nav-is-open"),e.setAttribute("aria-hidden","true")):(e.classList.add("nav-is-open"),e.setAttribute("aria-hidden","false"))}else console.error("Sidenav config error: Make sure that sidenav open and close button data-attributes point to a sidenav ID that exists.")}n.forEach(function(o,e){o.classList.contains("fade-links")&&o.addEventListener("transitionend",function(e){if(e.target.id===o.id){var n=o;const t=n.querySelectorAll(".sidenav li");t.forEach(function(e,t){!1===n.classList.contains("nav-is-open")?e.classList.remove("show-link"):e.classList.add("show-link")})}})});const s=document.querySelectorAll(".sidenav.is-fixed");function a(e){e.matches?s.forEach(function(e,t){e.classList.contains("is-fixed")&&e.classList.remove("is-fixed")}):s.forEach(function(e,t){!1===e.classList.contains("is-fixed")&&e.classList.add("is-fixed")})}const r=window.matchMedia("(max-width: 768px)"),i=(a(r),r.addListener(a),document.querySelectorAll("[data-resp-nav]"));i.forEach((t,e)=>{const n=t.getAttribute("data-resp-nav"),o=(n.replace("px",""),isNaN(n)&&console.error("data-resp-nav value is not a number"),window.matchMedia(`(max-width: ${n}px)`));function s(e){e.matches?(t.style.setProperty("--navbar-x-li-display","block"),t.classList.contains("y")&&t.style.setProperty("--nav-y-width","100vw"),!1===t.classList.contains("sidenav")&&(t.classList.add("sidenav"),t.setAttribute("aria-hidden","true"))):(t.style.setProperty("--navbar-x-li-display","inline"),t.classList.contains("y")&&t.style.removeProperty("--nav-y-width"),!0===t.classList.contains("sidenav")&&(t.classList.remove("sidenav"),t.classList.remove("nav-is-open"),t.setAttribute("aria-hidden","false")))}s(o),o.addEventListener?o.addEventListener("change",s):o.addListener(s)}),n=document.querySelectorAll(".sidenav, [data-resp-nav]"),document.addEventListener("keydown",e=>{27===e.keyCode&&n.forEach((e,t)=>{e.classList.contains("nav-is-open")&&(console.log(e),o(e,!0))})})}(),function(){let e=void 0,n=new Array;function o(e){e.preventDefault();e=this;let t=e.nextElementSibling;"block"===t.style.display?(t.style.display="none",t.hidden=!0,e.classList.remove("active"),e.setAttribute("aria-expanded","false")):(t.style.display="block",t.hidden=!1,e.classList.add("active"),e.setAttribute("aria-expanded","true"),e.focus())}function s(e){const t=e;n.includes(t)||(t.classList.contains("collapse")&&t.addEventListener("click",o),n.push(t))}(e=document.querySelectorAll(".collapse")).forEach((e,t)=>{s(e)});var t=document.querySelector("[data-watch-collapsers]");if(t){var a={attributes:!0,childList:!0,subtree:!0};const r=new MutationObserver((e,t)=>{for(const n of e)"childList"===n.type&&n.addedNodes.forEach((e,t)=>{if(e instanceof Element){const n=e.querySelectorAll(".collapse");n.forEach((e,t)=>{collapsible.register_new_collapser(e)})}})});r.observe(t,a)}return{register_new_collapser:s}}()),modal=(!function(){const e=document.querySelectorAll("[data-open-dropup]");e.forEach((e,t)=>{var n=e.dataset.openDropup;const o=document.getElementById(n);e.addEventListener("click",e=>{o.classList.toggle("open"),o.toggleAttribute("aria-hidden"),e.stopPropagation()}),document.addEventListener("click",e=>{o.classList.remove("open"),o.setAttribute("aria-hidden",!0)})})}(),function(){const t=new CustomEvent("close",{detail:{}}),n=new CustomEvent("open",{detail:{}});function o(t){t.addEventListener("click",e=>{t.classList.contains("close-buttons-only")||e.target.classList.contains("modal")&&r(t)})}const s=document.querySelectorAll(".modal");function a(e){e.classList.add("is-showing"),e.dispatchEvent(n)}function r(e){e.classList.remove("is-showing"),e.dispatchEvent(t)}s.forEach((e,t)=>{o(e)}),document.addEventListener("keyup",e=>{"Escape"===e.key&&s.forEach((e,t)=>{r(e)})});const e=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes&&e.addedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&(e.matches("[data-open-modal]")&&i(e),e.matches("[data-close-modal]")&&c(e),e.matches(".modal")&&o(e))})})});function i(e){var t=e.dataset.openModal;const n=document.getElementById(t);n?e.addEventListener("click",e=>{e.preventDefault(),a(n)}):console.warn("Modal not found")}function c(e){var t=e.dataset.closeModal;const n=document.getElementById(t);n?e.addEventListener("click",e=>{e.preventDefault(),r(n)}):console.warn("Modal not found")}const l=document.querySelectorAll("[data-open-modal]"),d=(l.forEach((e,t)=>{i(e)}),document.querySelectorAll("[data-close-modal]"));return d.forEach((e,t)=>{c(e)}),e.observe(document.body,{childList:!0,subtree:!0}),{open:a,close:r,toggle:function(e){(e.classList.contains("is-showing")?r:a)(e)},register:o}}());!function(){const o="data-lazy-src";document.addEventListener("DOMContentLoaded",e=>{const t=[].slice.call(document.querySelectorAll(`img[${o}]`));if("IntersectionObserver"in window){let n=new IntersectionObserver((e,t)=>{e.forEach(t=>{if(t.isIntersecting){let e=t.target;e.src=e.getAttribute(o),e.removeAttribute(o),n.unobserve(e)}})});t.forEach((e,t)=>{n.observe(e)})}else t.forEach((e,t)=>{e.src=e.getAttribute(o),e.removeAttribute(o)})})}();